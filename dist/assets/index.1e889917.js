var W=Object.defineProperty;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var K=(c,o,n)=>o in c?W(c,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[o]=n,C=(c,o)=>{for(var n in o||(o={}))R.call(o,n)&&K(c,n,o[n]);if(S)for(var n of S(o))U.call(o,n)&&K(c,n,o[n]);return c};import{df as T,dg as w,be as D}from"./index.dc867373.js";var L={exports:{}};(function(c){var o=Object.prototype.hasOwnProperty,n="~";function e(){}Object.create&&(e.prototype=Object.create(null),new e().__proto__||(n=!1));function r(u,i,a){this.fn=u,this.context=i,this.once=a||!1}function t(u,i,a,f,v){if(typeof a!="function")throw new TypeError("The listener must be a function");var p=new r(a,f||u,v),h=n?n+i:i;return u._events[h]?u._events[h].fn?u._events[h]=[u._events[h],p]:u._events[h].push(p):(u._events[h]=p,u._eventsCount++),u}function s(u,i){--u._eventsCount===0?u._events=new e:delete u._events[i]}function l(){this._events=new e,this._eventsCount=0}l.prototype.eventNames=function(){var i=[],a,f;if(this._eventsCount===0)return i;for(f in a=this._events)o.call(a,f)&&i.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(a)):i},l.prototype.listeners=function(i){var a=n?n+i:i,f=this._events[a];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,p=f.length,h=new Array(p);v<p;v++)h[v]=f[v].fn;return h},l.prototype.listenerCount=function(i){var a=n?n+i:i,f=this._events[a];return f?f.fn?1:f.length:0},l.prototype.emit=function(i,a,f,v,p,h){var y=n?n+i:i;if(!this._events[y])return!1;var d=this._events[y],g=arguments.length,m,_;if(d.fn){switch(d.once&&this.removeListener(i,d.fn,void 0,!0),g){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,a),!0;case 3:return d.fn.call(d.context,a,f),!0;case 4:return d.fn.call(d.context,a,f,v),!0;case 5:return d.fn.call(d.context,a,f,v,p),!0;case 6:return d.fn.call(d.context,a,f,v,p,h),!0}for(_=1,m=new Array(g-1);_<g;_++)m[_-1]=arguments[_];d.fn.apply(d.context,m)}else{var H=d.length,x;for(_=0;_<H;_++)switch(d[_].once&&this.removeListener(i,d[_].fn,void 0,!0),g){case 1:d[_].fn.call(d[_].context);break;case 2:d[_].fn.call(d[_].context,a);break;case 3:d[_].fn.call(d[_].context,a,f);break;case 4:d[_].fn.call(d[_].context,a,f,v);break;default:if(!m)for(x=1,m=new Array(g-1);x<g;x++)m[x-1]=arguments[x];d[_].fn.apply(d[_].context,m)}}return!0},l.prototype.on=function(i,a,f){return t(this,i,a,f,!1)},l.prototype.once=function(i,a,f){return t(this,i,a,f,!0)},l.prototype.removeListener=function(i,a,f,v){var p=n?n+i:i;if(!this._events[p])return this;if(!a)return s(this,p),this;var h=this._events[p];if(h.fn)h.fn===a&&(!v||h.once)&&(!f||h.context===f)&&s(this,p);else{for(var y=0,d=[],g=h.length;y<g;y++)(h[y].fn!==a||v&&!h[y].once||f&&h[y].context!==f)&&d.push(h[y]);d.length?this._events[p]=d.length===1?d[0]:d:s(this,p)}return this},l.prototype.removeAllListeners=function(i){var a;return i?(a=n?n+i:i,this._events[a]&&s(this,a)):(this._events=new e,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,c.exports=l})(L);var O=L.exports,q=globalThis&&globalThis.__extends||function(){var c=function(o,n){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},c(o,n)};return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");c(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),k=function(c){q(o,c);function o(){return c!==null&&c.apply(this,arguments)||this}return o}(O);class F extends O{constructor(o,n){var e;super();if(e=this,this._handleMessage=r=>{if(this._injectedProvider&&r.source===window||r.origin===this._providerUrl.origin&&r.source===this._popup){if(r.data.method==="connected"){const t=new T(r.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(t))&&(this._publicKey&&!this._publicKey.equals(t)&&this._handleDisconnect(),this._publicKey=t,this._autoApprove=!!r.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(r.data.method==="disconnected")this._handleDisconnect();else if((r.data.result||r.data.error)&&this._responsePromises.has(r.data.id)){const[t,s]=this._responsePromises.get(r.data.id);r.data.result?t(r.data.result):s(new Error(r.data.error))}}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider?new Promise(r=>{this._sendRequest("connect",{}),r()}):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(r=>{this.once("connect",r)}))),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([r,t],s)=>{this._responsePromises.delete(s),t("Wallet disconnected")})},this._sendRequest=async function(r,t){if(r!=="connect"&&!e.connected)throw new Error("Wallet not connected");const s=e._nextRequestId;return++e._nextRequestId,new Promise((l,u)=>{e._responsePromises.set(s,[l,u]),e._injectedProvider?e._injectedProvider.postMessage({jsonrpc:"2.0",id:s,method:r,params:C({network:e._network},t)}):(e._popup.postMessage({jsonrpc:"2.0",id:s,method:r,params:t},e._providerUrl.origin),e.autoApprove||e._popup.focus())})},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){e._injectedProvider&&await e._sendRequest("disconnect",{}),e._popup&&e._popup.close(),e._handleDisconnect()},this.sign=async function(r,t){if(!(r instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const s=await e._sendRequest("sign",{data:r,display:t}),l=w.decode(s.signature),u=new T(s.publicKey);return{signature:l,publicKey:u}},this.signTransaction=async function(r){const t=await e._sendRequest("signTransaction",{message:w.encode(r.serializeMessage())}),s=w.decode(t.signature),l=new T(t.publicKey);return r.addSignature(l,s),r},this.signAllTransactions=async function(r){const t=await e._sendRequest("signAllTransactions",{messages:r.map(u=>w.encode(u.serializeMessage()))}),s=t.signatures.map(u=>w.decode(u)),l=new T(t.publicKey);return r=r.map((u,i)=>(u.addSignature(l,s[i]),u)),r},z(o))this._injectedProvider=o;else if($(o))this._providerUrl=new URL(o),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:n}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.");this._network=n,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}}function $(c){return typeof c=="string"}function z(c){return N(c)&&G(c.postMessage)}function N(c){return typeof c=="object"&&c!==null}function G(c){return typeof c=="function"}var B=globalThis&&globalThis.__extends||function(){var c=function(o,n){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},c(o,n)};return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");c(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),A=globalThis&&globalThis.__awaiter||function(c,o,n,e){function r(t){return t instanceof n?t:new n(function(s){s(t)})}return new(n||(n=Promise))(function(t,s){function l(a){try{i(e.next(a))}catch(f){s(f)}}function u(a){try{i(e.throw(a))}catch(f){s(f)}}function i(a){a.done?t(a.value):r(a.value).then(l,u)}i((e=e.apply(c,o||[])).next())})},I=globalThis&&globalThis.__generator||function(c,o){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,r,t,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(i){return function(a){return u([i,a])}}function u(i){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,r&&(t=i[0]&2?r.return:i[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,i[1])).done)return t;switch(r=0,t&&(i=[i[0]&2,t.value]),i[0]){case 0:case 1:t=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,r=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!t||i[1]>t[0]&&i[1]<t[3])){n.label=i[1];break}if(i[0]===6&&n.label<t[1]){n.label=t[1],t=i;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(i);break}t[2]&&n.ops.pop(),n.trys.pop();continue}i=o.call(c,n)}catch(a){i=[6,a],r=0}finally{e=t=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},J=function(c){B(o,c);function o(n,e,r){var t=c.call(this)||this;return t._instance=null,t.handleMessage=function(s){},t._handleConnect=function(){t.emit("connect")},t._handleDisconnect=function(){window.clearInterval(t._pollTimer),t.emit("disconnect")},t._network=e,t._provider=r,t}return Object.defineProperty(o.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return A(this,void 0,void 0,function(){var n=this;return I(this,function(e){switch(e.label){case 0:return this._instance=new F(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var r,t;((t=(r=n._instance)===null||r===void 0?void 0:r._popup)===null||t===void 0?void 0:t.closed)!==!1&&n._handleDisconnect()},200),[4,this._instance.connect()];case 1:return e.sent(),[2]}})})},o.prototype.disconnect=function(){return A(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return n.sent(),[2]}})})},o.prototype.signTransaction=function(n){return A(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signTransaction(n)];case 1:return[2,e.sent()]}})})},o.prototype.signAllTransactions=function(n){return A(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signAllTransactions(n)];case 1:return[2,e.sent()]}})})},o.prototype.signMessage=function(n,e){return e===void 0&&(e="hex"),A(this,void 0,void 0,function(){var r;return I(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(n,e)];case 1:return r=t.sent().signature,[2,Uint8Array.from(r)]}})})},o}(k),Q=globalThis&&globalThis.__extends||function(){var c=function(o,n){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},c(o,n)};return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");c(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(c){for(var o,n=1,e=arguments.length;n<e;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(c[r]=o[r])}return c},M.apply(this,arguments)},P=globalThis&&globalThis.__awaiter||function(c,o,n,e){function r(t){return t instanceof n?t:new n(function(s){s(t)})}return new(n||(n=Promise))(function(t,s){function l(a){try{i(e.next(a))}catch(f){s(f)}}function u(a){try{i(e.throw(a))}catch(f){s(f)}}function i(a){a.done?t(a.value):r(a.value).then(l,u)}i((e=e.apply(c,o||[])).next())})},j=globalThis&&globalThis.__generator||function(c,o){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,r,t,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(i){return function(a){return u([i,a])}}function u(i){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,r&&(t=i[0]&2?r.return:i[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,i[1])).done)return t;switch(r=0,t&&(i=[i[0]&2,t.value]),i[0]){case 0:case 1:t=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,r=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!t||i[1]>t[0]&&i[1]<t[3])){n.label=i[1];break}if(i[0]===6&&n.label<t[1]){n.label=t[1],t=i;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(i);break}t[2]&&n.ops.pop(),n.trys.pop();continue}i=o.call(c,n)}catch(a){i=[6,a],r=0}finally{e=t=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},V=function(c){Q(o,c);function o(n,e){var r,t=c.call(this)||this;return t._publicKey=null,t._messageHandlers={},t.handleMessage=function(s){if(t._messageHandlers[s.id]){var l=t._messageHandlers[s.id],u=l.resolve,i=l.reject;delete t._messageHandlers[s.id],s.error?i(s.error):u(s.result)}},t._sendMessage=function(s){if(!t.connected)throw new Error("Wallet not connected");return new Promise(function(l,u){var i,a,f=D();t._messageHandlers[f]={resolve:l,reject:u},(a=(i=t._iframe)===null||i===void 0?void 0:i.contentWindow)===null||a===void 0||a.postMessage({channel:"solflareWalletAdapterToIframe",data:M({id:f},s)},"*")})},t._iframe=n,t._publicKey=new T((r=e==null?void 0:e.toString)===null||r===void 0?void 0:r.call(e)),t}return Object.defineProperty(o.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return P(this,void 0,void 0,function(){return j(this,function(n){return[2]})})},o.prototype.disconnect=function(){return P(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return n.sent(),[2]}})})},o.prototype.signTransaction=function(n){return P(this,void 0,void 0,function(){var e,r,t,s;return j(this,function(l){switch(l.label){case 0:if(!this.connected)throw new Error("Wallet not connected");l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:w.encode(n.serializeMessage())}})];case 2:return e=l.sent(),r=e.publicKey,t=e.signature,n.addSignature(new T(r),w.decode(t)),[2,n];case 3:throw s=l.sent(),console.log(s),new Error("Failed to sign transaction");case 4:return[2]}})})},o.prototype.signAllTransactions=function(n){return P(this,void 0,void 0,function(){var e,r,t,s;return j(this,function(l){switch(l.label){case 0:if(!this.connected)throw new Error("Wallet not connected");l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:n.map(function(u){return w.encode(u.serializeMessage())})}})];case 2:return e=l.sent(),r=e.publicKey,t=e.signatures,[2,n.map(function(u,i){return u.addSignature(new T(r),w.decode(t[i])),u})];case 3:throw s=l.sent(),console.log(s),new Error("Failed to sign transactions");case 4:return[2]}})})},o.prototype.signMessage=function(n,e){return e===void 0&&(e="hex"),P(this,void 0,void 0,function(){var r,t;return j(this,function(s){switch(s.label){case 0:if(!this.connected)throw new Error("Wallet not connected");s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:n,display:e}})];case 2:return r=s.sent(),[2,Uint8Array.from(w.decode(r))];case 3:throw t=s.sent(),console.log(t),new Error("Failed to sign message");case 4:return[2]}})})},o}(k),X=globalThis&&globalThis.__extends||function(){var c=function(o,n){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},c(o,n)};return function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");c(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),b=globalThis&&globalThis.__awaiter||function(c,o,n,e){function r(t){return t instanceof n?t:new n(function(s){s(t)})}return new(n||(n=Promise))(function(t,s){function l(a){try{i(e.next(a))}catch(f){s(f)}}function u(a){try{i(e.throw(a))}catch(f){s(f)}}function i(a){a.done?t(a.value):r(a.value).then(l,u)}i((e=e.apply(c,o||[])).next())})},E=globalThis&&globalThis.__generator||function(c,o){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,r,t,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(i){return function(a){return u([i,a])}}function u(i){if(e)throw new TypeError("Generator is already executing.");for(;n;)try{if(e=1,r&&(t=i[0]&2?r.return:i[0]?r.throw||((t=r.return)&&t.call(r),0):r.next)&&!(t=t.call(r,i[1])).done)return t;switch(r=0,t&&(i=[i[0]&2,t.value]),i[0]){case 0:case 1:t=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,r=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!t||i[1]>t[0]&&i[1]<t[3])){n.label=i[1];break}if(i[0]===6&&n.label<t[1]){n.label=t[1],t=i;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(i);break}t[2]&&n.ops.pop(),n.trys.pop();continue}i=o.call(c,n)}catch(a){i=[6,a],r=0}finally{e=t=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Y=globalThis&&globalThis.__values||function(c){var o=typeof Symbol=="function"&&Symbol.iterator,n=o&&c[o],e=0;if(n)return n.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&e>=c.length&&(c=void 0),{value:c&&c[e++],done:!c}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(c){X(o,c);function o(n){var e=c.call(this)||this;return e._network="mainnet-beta",e._adapterInstance=null,e._element=null,e._iframe=null,e._connectHandler=null,e._flutterHandlerInterval=null,e._handleEvent=function(r){var t,s,l;switch(r.type){case"connect_native_web":{e._collapseIframe(),e._adapterInstance=new J(e._iframe,e._network,((t=r.data)===null||t===void 0?void 0:t.provider)||"https://solflare.com/provider"),e._adapterInstance.on("connect",e._webConnected),e._adapterInstance.on("disconnect",e._webDisconnected),e._adapterInstance.connect(),e._setPreferredAdapter("native_web");return}case"connect":{e._collapseIframe(),e._adapterInstance=new V(e._iframe,((s=r.data)===null||s===void 0?void 0:s.publicKey)||""),e._adapterInstance.connect(),e._setPreferredAdapter((l=r.data)===null||l===void 0?void 0:l.adapter),e._connectHandler&&(e._connectHandler.resolve(),e._connectHandler=null),e.emit("connect",e.publicKey);return}case"disconnect":{e._connectHandler&&(e._connectHandler.reject(),e._connectHandler=null),e._disconnected(),e.emit("disconnect");return}case"collapse":{e._collapseIframe();return}default:return}},e._handleMessage=function(r){var t;if(((t=r.data)===null||t===void 0?void 0:t.channel)==="solflareIframeToWalletAdapter"){var s=r.data.data||{};s.type==="event"?e._handleEvent(s.event):e._adapterInstance&&e._adapterInstance.handleMessage(s)}},e._removeElement=function(){e._flutterHandlerInterval!==null&&(clearInterval(e._flutterHandlerInterval),e._flutterHandlerInterval=null),e._element&&(e._element.remove(),e._element=null)},e._removeDanglingElements=function(){var r,t,s=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var l=Y(s),u=l.next();!u.done;u=l.next()){var i=u.value;i.parentElement&&i.remove()}}catch(a){r={error:a}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(r)throw r.error}}},e._injectElement=function(){e._removeElement(),e._removeDanglingElements();var r="".concat(o.IFRAME_URL,"?cluster=").concat(encodeURIComponent(e._network),"&origin=").concat(encodeURIComponent(window.location.origin)),t=e._getPreferredAdapter();t&&(r+="&adapter=".concat(encodeURIComponent(t))),e._element=document.createElement("div"),e._element.className="solflare-wallet-adapter-iframe",e._element.innerHTML=`
      <iframe src='`.concat(r,`' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>
    `),document.body.appendChild(e._element),e._iframe=e._element.querySelector("iframe"),window.fromFlutter=e._handleMobileMessage,e._flutterHandlerInterval=setInterval(function(){window.fromFlutter=e._handleMobileMessage},100),window.addEventListener("message",e._handleMessage,!1)},e._collapseIframe=function(){e._iframe&&(e._iframe.style.top="",e._iframe.style.right="",e._iframe.style.height="2px",e._iframe.style.width="2px")},e._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},e._setPreferredAdapter=function(r){localStorage&&r&&localStorage.setItem("solflarePreferredWalletAdapter",r)},e._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},e._webConnected=function(){e._connectHandler&&(e._connectHandler.resolve(),e._connectHandler=null),e.emit("connect",e.publicKey)},e._webDisconnected=function(){e._connectHandler&&(e._connectHandler.reject(),e._connectHandler=null),e._disconnected(),e.emit("disconnect")},e._disconnected=function(){window.removeEventListener("message",e._handleMessage,!1),e._removeElement(),e._clearPreferredAdapter(),e._adapterInstance=null},e._handleMobileMessage=function(r){var t,s;(s=(t=e._iframe)===null||t===void 0?void 0:t.contentWindow)===null||s===void 0||s.postMessage({channel:"solflareMobileToIframe",data:r},"*")},n!=null&&n.network&&(e._network=n==null?void 0:n.network),e}return Object.defineProperty(o.prototype,"publicKey",{get:function(){var n;return((n=this._adapterInstance)===null||n===void 0?void 0:n.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isConnected",{get:function(){var n;return!!(!((n=this._adapterInstance)===null||n===void 0)&&n.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return b(this,void 0,void 0,function(){var n=this;return E(this,function(e){switch(e.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise(function(r,t){n._connectHandler={resolve:r,reject:t}})]);case 1:return e.sent(),[2]}})})},o.prototype.disconnect=function(){return b(this,void 0,void 0,function(){return E(this,function(n){switch(n.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return n.sent(),this._disconnected(),this.emit("disconnect"),[2]}})})},o.prototype.signTransaction=function(n){return b(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(n)];case 1:return[2,e.sent()]}})})},o.prototype.signAllTransactions=function(n){return b(this,void 0,void 0,function(){return E(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(n)];case 1:return[2,e.sent()]}})})},o.prototype.signMessage=function(n,e){return e===void 0&&(e="utf8"),b(this,void 0,void 0,function(){return E(this,function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(n,e)];case 1:return[2,r.sent()]}})})},o.prototype.sign=function(n,e){return e===void 0&&(e="utf8"),b(this,void 0,void 0,function(){return E(this,function(r){switch(r.label){case 0:return[4,this.signMessage(n,e)];case 1:return[2,r.sent()]}})})},o.prototype.detectWallet=function(n){return n===void 0&&(n=10),b(this,void 0,void 0,function(){return E(this,function(e){return[2,new Promise(function(r){var t=null;function s(a){u(),r(a)}var l=setTimeout(function(){s(!1)},n*1e3);function u(){window.removeEventListener("message",i,!1),t&&(document.body.removeChild(t),t=null),l&&(clearTimeout(l),l=null)}function i(a){var f,v,p;((f=a.data)===null||f===void 0?void 0:f.channel)==="solflareDetectorToAdapter"&&s(!!(!((p=(v=a.data)===null||v===void 0?void 0:v.data)===null||p===void 0)&&p.detected))}window.addEventListener("message",i,!1),t=document.createElement("div"),t.className="solflare-wallet-detect-iframe",t.innerHTML=`
        <iframe src='`.concat(o.DETECT_IFRAME_URL,"?timeout=").concat(n,`' style='position: fixed; top: -9999px; left: -9999px; width: 0; height: 0; pointer-events: none; border: none;'></iframe>
      `),document.body.appendChild(t)})]})})},o.IFRAME_URL="https://connect.solflare.com/",o.DETECT_IFRAME_URL="https://connect.solflare.com/detect",o}(O);export{te as default};
