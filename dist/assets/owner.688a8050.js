import{r as m,Z as b,j as a,a as e,F as k,B as u,E as M,I as O,p as C,D as L,b as D,Q as R,s as E,at as T,ag as X,M as S}from"./index.dc867373.js";import{u as N}from"./useMultisigProcess.fcf823a5.js";import"./useMultiWallet.40ef7dbb.js";const q=({onDisable:i})=>{const{signAndInternal:s,owners:n,addOwner:r,isLoading:f,refetch:o}=N(),[h,c]=m.exports.useState(0),t=b(),[l,g]=m.exports.useState("");return a("div",{className:"-my-5 flex flex-col space-y-7",children:[e("div",{className:"font-bold text-xl",children:"Add Owner"}),h===0&&a(k,{children:[a("div",{className:"flex flex-col space-y-3",children:[e("span",{children:"Wallet Address"}),e("div",{children:e("input",{onChange:x=>g(x.target.value),type:"text",placeholder:"0xabc...",className:"w-full px-3 py-2 border border-black rounded-lg dark:bg-darkSecond"})})]}),e("div",{className:"flex justify-center",children:a("div",{className:"grid grid-cols-2 gap-5 w-[50%] ",children:[e(u,{version:"second",className:"!px-3 !py-2",onClick:()=>i(!1),children:"Close"}),e(u,{className:"!px-3 !py-2",onClick:()=>{l&&c(1)},children:"Next"})]})})]}),h===1&&a(k,{children:[a("div",{className:"flex border border-primary px-3 py-2 items-center rounded-xl space-x-3",children:[e("div",{children:e(M,{name:"Ow",className:"bg-primary text-black bg-opacity-100 font-bold text-xs"})}),a("div",{className:"flex flex-col",children:[e("div",{children:"New Owner"}),a("div",{className:"text-sm text-greylish",children:["Address: ",l]}),a("div",{className:"text-sm text-greylish",children:["Treshold: ",a("span",{className:"font-bold",children:[s==null?void 0:s.internalSigns," out of ",n==null?void 0:n.length," owners"]})]})]})]}),e("div",{className:"flex justify-center",children:a("div",{className:"grid grid-cols-2 gap-5 w-[50%] ",children:[e(u,{version:"second",className:"!px-3 !py-2",onClick:()=>c(0),children:"Back"}),e(u,{className:"!px-3 !py-2",isLoading:f,onClick:async()=>{var x;try{await r(l),o(),t(O({activate:!0,text:"Owner added successfully"})),i(!1)}catch(v){console.error(v),t(C({activate:!0,text:(x=v==null?void 0:v.data)==null?void 0:x.message})),i(!1)}},children:"Confirm"})]})})]})]})},B=({onDisable:i})=>{var v,y;const{signAndInternal:s,isMultisig:n,owners:r,isLoading:f,changeSigns:o,refetch:h}=N(),[c,t]=m.exports.useState({name:(v=s==null?void 0:s.sign.toString())!=null?v:"1",address:""}),[l,g]=m.exports.useState({name:(y=s==null?void 0:s.internalSigns.toString())!=null?y:"1",address:""}),x=b();return m.exports.useEffect(()=>{var p,d;s!=null&&s.sign&&t({name:(p=s==null?void 0:s.sign.toString())!=null?p:"1",address:""}),s!=null&&s.internalSigns&&g({name:(d=s==null?void 0:s.internalSigns.toString())!=null?d:"1",address:""})},[s]),n?r?a("div",{className:"-my-5 flex flex-col space-y-7",children:[e("div",{className:"font-bold text-xl",children:"Replace Owner"}),a("div",{className:"flex flex-col space-y-3",children:[e("span",{children:"Any transaction requires the confirmation of: "}),a("div",{className:"flex items-center gap-x-3",children:[e(L,{onSelect:t,className:"px-3 space-x-2",nameActivation:!0,list:Array(r.length).fill("").map((p,d)=>({name:(d+1).toString(),address:""})),selected:c})," out of ",r.length," owners"]})]}),a("div",{className:"flex flex-col space-y-3",children:[e("span",{children:"Signatures required to change MultiSig properties: "}),a("div",{className:"flex items-center gap-x-3",children:[e(L,{onSelect:g,className:"px-3 space-x-2",nameActivation:!0,list:Array(r.length).fill("").map((p,d)=>({name:(d+1).toString(),address:""})),selected:l})," out of ",r.length," owners"]})]}),e("div",{className:"flex justify-center",children:e("div",{className:"grid grid-cols-1 gap-5 w-[30%] ",children:e(u,{className:"!px-3 !py-2",isLoading:f,onClick:async()=>{var p;if(c.name&&l.name)try{await o(parseInt(c.name),parseInt(l.name),(s==null?void 0:s.sign)!==parseInt(c.name),(s==null?void 0:s.internalSigns)!==parseInt(l.name)),h(),x(O({activate:!0,text:"Successfully"})),i(!1)}catch(d){console.error(d),x(C({activate:!0,text:(p=d==null?void 0:d.data)==null?void 0:p.message})),i(!1)}},children:"Save"})})})]}):a("div",{children:[" ",e(D.ClipLoader,{})," "]}):e("div",{className:"text-center",children:"Select a MultiSig account"})},P=({name:i,address:s,onDisable:n})=>{const{refetch:r,isLoading:f,removeOwner:o}=N(),h=b();return a("div",{className:"-my-5 flex flex-col space-y-7",children:[e("div",{className:"font-bold text-xl",children:"Delete Owner"}),a("div",{className:"flex flex-col space-y-3",children:[e("div",{children:"Review the owner"}),a("div",{className:"flex items-center space-x-2",children:[e("div",{children:e(M,{className:"bg-opacity-10 font-bold text-xs",name:"Ow"})}),a("div",{className:"flex flex-col",children:[e("div",{children:i}),a("div",{className:"font-thin text-sm",children:["Address: ",s.toLowerCase()]})]})]})]}),e("div",{className:"flex justify-center",children:e("div",{className:"grid grid-cols-1 gap-5 w-[35%] ",children:e(u,{className:"!px-3 !py-2 bg-red-500 hover:text-red-500 hover:bg-white hover:border-red-500",isLoading:f,onClick:async()=>{var c;try{await o(s),r(),h(O({activate:!0,text:"Successfully"})),n(!1)}catch(t){console.error(t),h(C({activate:!0,text:(c=t==null?void 0:t.data)==null?void 0:c.message})),n(!1)}},children:"Delete"})})})]})},F=({onDisable:i,ownerAddress:s})=>{const{replaceOwner:n,isLoading:r,refetch:f}=N(),o=b(),[h,c]=m.exports.useState(s);return a("div",{className:"-my-5 flex flex-col space-y-7",children:[e("div",{className:"font-bold text-xl",children:"Replace Owner"}),a("div",{className:"flex flex-col space-y-3",children:[e("span",{children:"Wallet Address"}),e("div",{children:e("input",{defaultValue:s,onChange:t=>c(t.target.value),type:"text",placeholder:"0xabc...",className:"w-full px-3 py-2 border border-black rounded-lg dark:bg-darkSecond"})})]}),e("div",{className:"flex justify-center",children:e("div",{className:"grid grid-cols-1 gap-5 w-[30%] ",children:e(u,{className:"!px-3 !py-2",isLoading:r,onClick:async()=>{var t;if(h)try{await n(s,h),o(O({activate:!0,text:"Successfully"})),f(),i(!1)}catch(l){console.error(l),o(C({activate:!0,text:(t=l==null?void 0:l.data)==null?void 0:t.message})),i(!1)}},children:"Save"})})})]})},V=()=>{const i=R(E),{owners:s,isMultisig:n,signAndInternal:r}=N(),[f,o]=m.exports.useState(!1),[h,c]=m.exports.useState(!1),[t,l]=m.exports.useState(!1),[g,x]=m.exports.useState(!1),[v,y]=m.exports.useState(""),[p,d]=m.exports.useState({name:"",address:""});return n?a("div",{className:"flex flex-col space-y-7",children:[a("div",{className:"flex flex-col space-y-2",children:[e("div",{className:"text-xl",children:"Manage Owners"}),a("div",{className:"grid grid-cols-[55%,45%]",children:[e("div",{children:"Add, remove, replace, invite or rename owners"}),a("div",{className:"grid grid-cols-[45%,45%,10%]",children:[e("div",{children:e(u,{className:"py-2 font-extralight w-[150px] flex items-center justify-center gap-x-1",onClick:()=>{l(!0)},children:a(k,{children:[e(T,{}),"Treshold"]})})}),e("div",{children:e(u,{className:"py-2 px-5 font-extralight w-[150px]",onClick:()=>o(!0),children:"+ Add owner"})})]})]}),a("div",{children:["Every transaction requires the confirmation of ",a("span",{className:"font-semibold",children:[r==null?void 0:r.sign," out of ",s==null?void 0:s.length]})," owners"]})]}),e("div",{className:"shadow-custom px-12 py-4 -mx-10 rounded-xl",children:e("div",{className:"flex flex-col space-y-5",children:s==null?void 0:s.map((w,j)=>a("div",{className:"grid grid-cols-[55%,10%,5%,30%] items-center",children:[a("div",{className:"flex items-center space-x-2",children:[e("div",{children:e(M,{className:"bg-opacity-10 font-bold text-xs",name:"Ow"})}),a("div",{className:"flex flex-col",children:[a("div",{children:["Owner ",j+1]}),a("div",{className:"font-thin text-sm",children:["Address: ",w.toLowerCase()]})]})]}),e("div",{children:i.accountAddress.toLowerCase()===w.toLowerCase()?e("div",{className:"font-thin text-sm bg-primary text-white inline rounded-xl px-4 py-1",children:"You"}):""}),e("div",{className:"cursor-pointer",onClick:()=>{y(w),c(!0)},children:e("img",{src:"/icons/editSetting.svg",alt:"",className:"dark:invert dark:brightness-0"})}),e("div",{className:"cursor-pointer",onClick:()=>{d({name:`Owner ${j+1}`,address:w}),x(!0)},children:e("img",{src:"/icons/trashSetting.svg",alt:""})})]},X()))})}),f&&e(S,{onDisable:o,disableX:!0,children:e(q,{onDisable:o})}),h&&e(S,{onDisable:c,disableX:!0,children:e(F,{ownerAddress:v,onDisable:c})}),t&&e(S,{onDisable:l,disableX:!0,children:e(B,{onDisable:l})}),g&&e(S,{onDisable:x,disableX:!0,children:e(P,{address:p.address,name:p.name,onDisable:x})})]}):e("div",{className:"text-center",children:"Please, select a MultiSig account"})};export{V as default};
